<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorator="layout/loginLayout">
	<div layout:fragment="content">
	    <div class="login_wrap">
	        <div class="login_area">
	            <h3 class="title mgn_b20">로그인</h3>    
	            <form id="loginFrm" class="user" th:action="@{/login}" method="POST">
					<!-- <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" /> -->
	                <div class="login"> 
	                    <p>
							<span class="sub_title">아이디</span>
							<input type="text" class="in_box_type01 in_length290" id="username" name="username" th:value="${param.username}" aria-describedby="username" >
						</p>
	                    <p>
	                    	<span class="sub_title">비밀번호</span>
	                    	<input type="password" class="in_box_type01 in_length290" id="password" name="password" >
	                    </p>
	                    <p>
							<input type="button" class="btn_type02 col_black" onclick="login();" value="로그인" style="margin-left: 131px;">
						</p>
	                </div>
	                <div align="center">
	                	<p th:if="${param.error ne null}" th:text="${param.errormsg}" style="font-size: 20; color: #FF1C19;"></p>
					</div>
	            </form>        
	        </div>
	    </div>
	
		<script type="text/javascript" class="code-js">
		
			$(document).ready(function() {
			    $("#password").keydown(function(key) {
			        if (key.keyCode == 13) {
			            $("#loginFrm").submit();
			        }
			    });
			});
		
			function login(){
				if(isValidationCheck()){
					$("#loginFrm").submit();
				}
			}
			
			function isValidationCheck(){
				var username = $("#username").val();
				var password = $("#password").val();
				
				if(username == "" || username == null){
					alert("아이디를 입력해 주세요.");
					$("#username").focus();
					return false;
				}
				if(password == "" || password == null){
					alert("비밀번호를 입력해 주세요.");
					$("#password").focus();
					return false;
				}
				return true;
			}
		
		</script>
	</div>
</html>
